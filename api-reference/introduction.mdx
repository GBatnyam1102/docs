---
title: 'Танилцуулга'
description: 'BNPL системийн API танилцуулга болон баталгаажуулалтын заавар'
---

## Ерөнхий мэдээлэл

**BNPL (Buy Now, Pay Later)** API нь хэрэглэгч, худалдаачин болон санхүүгийн 
байгууллагуудын хооронд өгөгдөл солилцох **RESTful API** юм.

### Үндсэн боломжууд

BNPL API нь дараах үйл ажиллагаануудыг дэмждэг:

<CardGroup cols={2}>
  <Card title="Харилцагч удирдлага" icon="user">
    Харилцагч бүртгэх, мэдээлэл шинэчлэх, зээлийн эрх тогтоох
  </Card>
  <Card title="Нэхэмжлэх үүсгэх" icon="file-invoice">
    BNPL төлбөрийн хүсэлт үүсгэх, баталгаажуулах, цуцлах
  </Card>
  <Card title="Зээлийн удирдлага" icon="hand-holding-dollar">
    Зээлийн хуваарь, үлдэгдэл, төлбөрийн мэдээлэл авах
  </Card>
  <Card title="Төлбөр төлөх" icon="credit-card">
    Төлбөр төлөх, төлбөрийн түүх, төлөвийн мэдээлэл авах
  </Card>
</CardGroup>

---

## API Base URL

Бүх API хүсэлтүүд дараах суурь URL-аас эхэлнэ:

<CodeGroup>
```text Production
https://api.bnpl.mn/v1
```

```text Test
https://test-api.bnpl.mn/v1
```
</CodeGroup>

<Warning>
Production орчинд тестлэх бол бодит харилцагчийн өгөгдөл өөрчлөгдөх эрсдэлтэй 
тул **заавал Test орчныг** ашиглана уу.
</Warning>

<Note>
Байгууллагын хувийн нууцлалтай холбоотойгоор үндсэн URL - ийг оруулаагүй болно.
</Note>
---

## Баталгаажуулалт (Authentication)

BNPL API нь **хоёр төрлийн** баталгаажуулалтыг дэмждэг:

### 1. Basic Authentication

Систем хоорондын интеграци, merchant API-д ашиглагдана.

**Хэрэглээ:**
- Backend систем хооронд
- Server-to-server интеграци
- Merchant платформ

**Header формат:**

```http
Authorization: Basic <base64_encoded_credentials>
```

**Жишээ:**

<CodeGroup>
```bash cURL
curl -X GET "https://api.bnpl.mn/v1/bnpl/info/user?register=ХХ00112233" \
  -H "Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ="
```

```javascript JavaScript
const credentials = btoa('username:password');

fetch('https://api.bnpl.mn/v1/bnpl/info/user?register=ХХ00112233', {
  headers: {
    'Authorization': `Basic ${credentials}`
  }
});
```

```python Python
import base64
import requests

credentials = base64.b64encode(b'username:password').decode()

response = requests.get(
    'https://api.bnpl.mn/v1/bnpl/info/user',
    params={'register': 'ХХ00112233'},
    headers={'Authorization': f'Basic {credentials}'}
)
```
</CodeGroup>

<Note>
`username:password` хэсгийг **base64** кодлох шаардлагатай. Жишээ нь:
`username:password` → `dXNlcm5hbWU6cGFzc3dvcmQ=`
</Note>

---

### 2. Bearer Token Authentication

Merchant онлайн дэлгүүрийн API-д ашиглагдана.

**Хэрэглээ:**
- Онлайн дэлгүүрийн интеграци
- E-commerce платформ
- Mobile app backend

**Header формат:**

```http
Authorization: Bearer <access_token>
```

**Жишээ:**

<CodeGroup>
```bash cURL
curl -X POST "https://api.bnpl.mn/v1/merchant/loan" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -H "Content-Type: application/json" \
  -d '{"storeId":210,"mobileNumber":"88888888","amount":50000,"description":"Test"}'
```

```javascript JavaScript
fetch('https://api.bnpl.mn/v1/merchant/loan', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    storeId: 210,
    mobileNumber: '88888888',
    amount: 50000,
    description: 'Test'
  })
});
```

```python Python
import requests

response = requests.post(
    'https://api.bnpl.mn/v1/merchant/loan',
    headers={
        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...',
        'Content-Type': 'application/json'
    },
    json={
        'storeId': 210,
        'mobileNumber': '88888888',
        'amount': 50000,
        'description': 'Test'
    }
)
```
</CodeGroup>

<Warning>
Bearer token нь **хугацаатай** байдаг тул expired болсон тохиолдолд шинээр авах 
шаардлагатай.
</Warning>

---

## Баталгаажуулалтын төрлөөр endpoint-үүд

| Endpoint төрөл | Authentication | Хэрэглээ |
|---------------|----------------|----------|
| `/bnpl/*` | Basic Auth | Харилцагч, нэхэмжлэх, зээлийн API |
| `/merchant/*` | Bearer Token | Онлайн дэлгүүрийн API |

---

## Стандарт хариултын бүтэц

Бүх API endpoint-үүд **стандарт бүтэцтэй** JSON хариулт буцаана:

```json
{
  "value": <Үндсэн өгөгдөл>,
  "data": <Нэмэлт өгөгдөл эсвэл null>,
  "msgList": [<Мэдэгдлийн жагсаалт>],
  "attrs": {<Нэмэлт атрибут>},
  "status": "Success" | "Error"
}
```

### Хариултын талбарууд

<ParamField path="value" type="any" required>
  Үндсэн хариултын өгөгдөл. Endpoint-оос хамааран integer, object, array эсвэл 
  boolean утга байж болно.
</ParamField>

<ParamField path="data" type="any">
  Нэмэлт өгөгдөл. Ихэнх тохиолдолд `null` байна.
</ParamField>

<ParamField path="msgList" type="array">
  Алдаа болон анхааруулгын мессежүүдийн жагсаалт.
</ParamField>

<ParamField path="attrs" type="object">
  Нэмэлт атрибутууд. Ихэнх тохиолдолд хоосон object байна.
</ParamField>

<ParamField path="status" type="string" required>
  Хүсэлтийн төлөв: `"Success"` эсвэл `"Error"`
</ParamField>

---

## Алдааны кодууд

API алдаа гарсан тохиолдолд HTTP статус код болон `msgList` дотор дэлгэрэнгүй 
мэдээлэл буцаана:

| HTTP Code | Тайлбар | Шийдэл |
|-----------|---------|--------|
| **200** | Амжилттай | - |
| **400** | Буруу хүсэлт | Хүсэлтийн параметр, body шалгах |
| **401** | Баталгаажуулалт амжилтгүй | Authentication credentials шалгах |
| **403** | Хандах эрхгүй | Эрхийн тохиргоо шалгах |
| **404** | Өгөгдөл олдсонгүй | ID, параметр зөв эсэхийг шалгах |
| **500** | Серверийн алдаа | Дахин оролдох эсвэл support-той холбогдох |

### Алдааны хариултын жишээ

```json
{
  "value": null,
  "data": null,
  "msgList": [
    "Харилцагч олдсонгүй",
    "Регистрийн дугаар буруу байна"
  ],
  "attrs": {},
  "status": "Error"
}
```

---

## Rate Limiting

API хүсэлтүүд rate limit-тэй:

<Info>
**Стандарт лимит:** 100 хүсэлт/минут, endpoint бүрээр  
**Burst лимит:** 20 хүсэлт/секунд

Лимит хэтэрвэл **HTTP 429** статус код буцаана.
</Info>

---

## Эхлэх

<CardGroup cols={2}>
  <Card title="Харилцагч API" icon="user" href="/api-reference/endpoint/get-user">
    Харилцагчийн бүртгэл, мэдээлэл лавлах
  </Card>
  <Card title="Нэхэмжлэх API" icon="file-invoice" href="/api-reference/endpoint/get-invoice">
    Нэхэмжлэх үүсгэх, лавлах, цуцлах
  </Card>
  <Card title="Зээл API" icon="hand-holding-dollar" href="/api-reference/endpoint/get-account-balance">
    Зээлийн үлдэгдэл, төлбөрийн мэдээлэл
  </Card>
  <Card title="Merchant API" icon="store" href="/api-reference/endpoint/create-merchant-loan">
    Онлайн дэлгүүрийн интеграци
  </Card>
</CardGroup>

---

## Тусламж авах

<CardGroup cols={2}>
  <Card title="Техникийн дэмжлэг" icon="headset">
    Email: support@bnpl.mn  
    Утас: +976-7777-7777
  </Card>
  <Card title="API Updates" icon="bell">
    Шинэчлэлтийн мэдээллийг манай вебсайтаас харна уу
  </Card>
</CardGroup>